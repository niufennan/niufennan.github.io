<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="/img/niu.png"/>
	 <link rel="shortcut icon" href="/img/niu.png">
	
			
    <title>
    双鱼座的牛
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="/css/mic_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
    
    	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>

			    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
	
</head>
    
		
<!-- Layouts -->



<!--  代码渲染  -->
<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<!-- 文章页 -->
<body class="is-loading">
    <!-- Wrapper 外包 s-->
    <div id="wrapper" class="fade-in">
        <!-- Intro 头部显示 s -->
        <!-- Intro 头部显示 e -->
        <!-- Header 头部logo start -->
        <header id="header">
    <a href="/" class="logo">双鱼座的牛</a>
</header>
        <!-- Nav 导航条 start -->
        <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow">主页</a>
	        </li>
			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1">分类</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/前端技术/">前端技术</a></li><li><a class="category-link" href="/categories/后端技术/">后端技术</a></li><li><a class="category-link" href="/categories/闲言碎语/">闲言碎语</a>
	                    </ul>
	        </li>
	        
	        <!-- archives  归档   --> 
	        
	        
		        <!-- Pages 自定义   -->
		        
		        <li>
		            <a href="/about/" title="简历">
		                简历
		            </a>
		        </li>
		        
		        <li>
		            <a href="/group/" title="团队">
		                团队
		            </a>
		        </li>
		        
		        <li>
		            <a href="/gallery/" title="图库">
		                图库
		            </a>
		        </li>
		        
		        <li>
		            <a href="/tag/" title="标签">
		                标签
		            </a>
		        </li>
		        


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
		            
		                <li><a href="https://github.com/miccall" class="icon fa-github"><span class="label">GitHub</span></a></li>
		            
		            
		            
		            
			</ul>
</nav>

        <div id="main" >
            <div class ="post_page_title_img" style="height: 25rem;background-image: url(http://upload-images.jianshu.io/upload_images/6290181-5d08f7cfa044dc88.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;" >
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2 >如果你想开发一个应用(1-4)</h2></a>
            </div>
            <!-- Post -->
            <div class="typo" style="padding: 3rem;">
                <h2 id="样式与布局"><a href="#样式与布局" class="headerlink" title="样式与布局"></a>样式与布局</h2><p>前一章中，我们已经完成了一个todos应用的最基础的功能，但不可否认的是，这个应用看起来太简陋了，几乎没有任何吸引力，而很明显，我们想要开发一个应用的目的就是让人来使用它，哪怕仅仅是自己使用（好惨），也喜欢有一个赏心悦目的ui吧</p>
<p>下面我们想要实现的效果如下：  </p>
<ul>
<li>一个精美，显眼的输入框，用于新建清单或者为已有清单增加待办事项  </li>
<li>输入框居中，并且使用框体增加用户注意力</li>
</ul>
<p>实现这个目标，并不是很简单的事，尤其是假定还要使用手机，平板电脑等设备来访问，所以，对于我这种懒人来说，最好的方法是使用css框架，目前css框架有很多，比如赫赫有名的Bootstrap,但毕竟Bootstrap使用的太广泛了，难免有千篇一律之嫌，所以就此考虑，使用了一个占有率稍小的前端框架：<a href="http://www.semantic-ui.cn/" target="_blank" rel="external">Semantic UI</a>。</p>
<p>Semantic UI也可以使用Bootstrap提供的<a href="http://www.bootcdn.cn/" target="_blank" rel="external">cdn</a>来获取，在页面头部增加cdn的引用：</p>
<pre><code>&lt;link href=&quot;https://cdn.bootcss.com/semantic-ui/2.2.13/semantic.min.css&quot; rel=&quot;stylesheet&quot;&gt;
</code></pre><blockquote>
<p>当然，实际项目中可不能这么干，有个好的UI设计和前段开发还是很必要的，因为即使占有率不让Bootstrap那么高，用户也立刻就能看出你使用的默认的样式，给人一种你甚至连自己定制都懒得动的感觉：(</p>
</blockquote>
<p>下面使用Semantic UI的强大功能对页面进行一下修改(这里强烈建议看一下<a href="http://www.semantic-ui.cn/" target="_blank" rel="external">Semantic UI文档</a>)：</p>
<pre><code>&lt;div class=&quot;ui two column centered relaxed  grid&quot;&gt;
    &lt;div class=&quot;column row&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;column &quot;&gt;
        &lt;h2 class=&quot;ui huge header center violet aligned&quot;&gt;jTodos!&lt;/h2&gt;
        &lt;div class=&quot;ui raised segment&quot;&gt;
            &lt;form action=&quot;index.jsp&quot; method=&quot;post&quot;  class=&quot;ui fluid action input&quot;&gt;
                &lt;input type=&quot;text&quot; name=&quot;todo&quot; placeholder=&quot;请输入一个备忘录项目&quot;&gt;
                &lt;button type=&quot;submit&quot; class=&quot;ui button&quot;&gt;OK&lt;/button&gt;
            &lt;/form&gt;
            &lt;div class=&quot;ui aligned huge selection divided list&quot;&gt;
                &lt;c:forEach var=&quot;item&quot; items=&quot;${todos}&quot;&gt;
                    &lt;div class=&quot;item&quot;&gt;
                            &lt;span class=&quot;header&quot;&gt;${status.index+1}.${item}&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/c:forEach&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre><p>这段html中可以看出SemanticUI的特点，就是采用多种css类组合的方式，强调不同的css类的服用，这段代码最后执行的页面效果如下：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/6290181-b9992931fba1a04c.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<blockquote>
<p>注意：此处严禁吐槽配色！！！</p>
</blockquote>
<h2 id="数据模型"><a href="#数据模型" class="headerlink" title="数据模型"></a>数据模型</h2><p>对于一个todos来说，现在我假设你希望知道你这个idea的迸发时间，也就是item项发出创建的时间，这时候，就会发现单纯的使用字符串已经满足不了需求了，这时候，就轮到数据模型出场了。<br>一般来说，项目中会把数据模型统一管理，这里我们也来创建一个单独用于数据模型管理的包</p>
<blockquote>
<p>此处不同版本的IntelliJ Idea的显示会不同</p>
</blockquote>
<p>首先找到项目的main文件夹，在文件夹下创建java文件夹用来放置代码文件，但此时java文件夹为普通文件夹，需要把他修改为idea可识别的代码文件夹，修改方式如下：<br>修改前：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/6290181-c0477d414e327e7f.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>然后依次选择 file-&gt;Project Structure,<br>在弹出的窗体中选择java文件夹：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/6290181-11f449cf38755bf4.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>选择java文件夹，然后设置为Sources模式：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/6290181-2ccc7c63abc67704.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>然后点击apply，最后点击ok，即可设置完成。</p>
<blockquote>
<p>再次强调，此操作与Intellij Idea的版本有关，如果你的版本默认自带代码文件夹，则不需要此步骤。</p>
</blockquote>
<p>完成准备工作，我们开始创建模型所在的包，以方便对数据模型的管理，包名一般都为域名的逆序，以保证唯一性，这里包名为：</p>
<pre><code>com.niufennan.jtodos.models
</code></pre><p>然后创建一个数据类，暂时命名Todo，只做简单的演示，这里类中只有三个字段以及相应的封装，这个类的源代码如下：</p>
<pre><code>package com.niufennan.jtodos.models;
import java.util.Date;
public class Todo {
    private int id;
    private String item;
    private Date createTime;
    public int getId() {
        return id;
    }
    public void setId(int id) {
        this.id = id;
    }
    public String getItem() {
        return item;
    }
    public void setItem(String item) {
        this.item = item;
    }
    public Date getCreateTime() {
        return createTime;
    }
    public void setCreateTime(Date createTime) {
        this.createTime = createTime;
    }
}
</code></pre><p>这样，每次新增的就不再是一个字符串项，而是一个Todo的数据模型，也就是所谓的一个javabean了。</p>
<p>修改代码如下：</p>
<pre><code>&lt;%
    request.setCharacterEncoding(&quot;utf-8&quot;);
    List&lt;Todo&gt; todos=(List&lt;Todo&gt;) application.getAttribute(&quot;todos&quot;);
    if(todos==null){
        todos=new ArrayList&lt;&gt;();
        application.setAttribute(&quot;todos&quot;,todos);
    }
    if(request.getParameter(&quot;todo&quot;)!=null){
        Todo todo=new Todo();
        todo.setCreateTime(new Date());
        todo.setItem(request.getParameter(&quot;todo&quot;));
        todos.add(todo);
    }
%&gt;
</code></pre><p>html模板部分修改为：</p>
<pre><code>&lt;c:forEach var=&quot;todo&quot; varStatus=&quot;status&quot; items=&quot;${todos}&quot;&gt;
    &lt;div class=&quot;item&quot;&gt;
        &lt;span class=&quot;header&quot;&gt;${status.index+1}.${todo.item}&lt;/span&gt;
    &lt;/div&gt;
&lt;/c:forEach&gt;
</code></pre><p>运行，效果入下：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/6290181-2130f7c07f6470b4.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>与之前一模一样。</p>
<blockquote>
<p>注意，这种随便改变数据类型的方法，为开发中大大忌，在实际开发中是严禁禁止的行为，但这篇blog为了照顾各个知识点，所以并未从开始进行整体架构设计，以后这种修改数据类型的行为会经常发生。<br>在此强调一遍，此为开发中的大忌，要严格禁止。</p>
</blockquote>
<p>但是，你可能发现了，并没有出现这个todo项创建的时间呀，下面我们把创建时间写入数据模板，修改的代码如下：</p>
<pre><code> &lt;c:forEach var=&quot;todo&quot; varStatus=&quot;status&quot; items=&quot;${todos}&quot;&gt;
    &lt;div class=&quot;item&quot;&gt;
        &lt;span class=&quot;right floated content&quot;&gt;${todo.createTime}&lt;/span&gt;
        &lt;span class=&quot;left floated header&quot;&gt;${status.index+1}.${todo.item}&lt;/span&gt;
    &lt;/div&gt;
&lt;/c:forEach&gt;
</code></pre><p>显示效果为：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/6290181-44fe329f9afacac3.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>效果很明显，显示上符合了要求，但是，日期的格式很明显是错误的呀，这时候要对日期格式进行修改，就牵扯到在jsp中书写java方法，jsp中写java方法也很简单,写在代码框&lt;%! code %&gt;中即可，注意前边的!,实际代码如下：</p>
<pre><code>&lt;%!
    private String formatDate(Date date){
        SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
        String dateString = formatter.format(date);
        return dateString;
    }
%&gt;
</code></pre><p>页面调用的方式如下：</p>
<pre><code>&lt;%
      for (int i=0;i&lt;todos.size();i++) {
  %&gt;
  &lt;div class=&quot;item&quot;&gt;
      &lt;span class=&quot;right floated content&quot;&gt;&lt;%= formatDate(todos.get(i).getCreateTime())%&gt;&lt;/span&gt;
      &lt;span class=&quot;left floated header&quot;&gt;&lt;%=i+1%&gt;.&lt;%=todos.get(i).getItem()  %&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;%
      }
  %&gt;
</code></pre><p>执行结果如下：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/6290181-547f58c3efcc7b9b.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>但是，你可能注意到了，我们又回到了html中嵌入代码的老路，这是因为jstl和java代码的调用问题，难道就不能不适用这种嵌入的方法么，答案是当然可以，jstl也提供了日期格式化的方式，首先在页面顶部引入前缀：</p>
<pre><code>&lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot;%&gt;
</code></pre><p>然后jstl下模板的写法：</p>
<pre><code>&lt;c:forEach var=&quot;todo&quot; varStatus=&quot;status&quot; items=&quot;${todos}&quot;&gt;
  &lt;div class=&quot;item&quot;&gt;
      &lt;span class=&quot;right floated content&quot;&gt;&lt;fmt:formatDate value=&quot;${todo.createTime}&quot; type=&quot;date&quot; pattern=&quot;yyyy-MM-dd HH:mm:ss&quot;/&gt;&lt;/span&gt;
      &lt;span class=&quot;left floated header&quot;&gt;${status.index+1}.${todo.item}&lt;/span&gt;
  &lt;/div&gt;
 &lt;/c:forEach&gt;
</code></pre><p>注意pattern参数.</p>
<p>运行一下，显示的结果应该是与之前没有任何差别.</p>
<p>然后，就可以开开心心的把原来的格式化方法删除了.</p>
<p>本章的也将告于段落,从下一章开始,就会进入servlet和模块化的javabean的世界,难度应该会增加不少,不管怎么说,感谢您的阅读.</p>
<blockquote>
<p>注意:本章第三次提醒!!!<br>Blog仅仅是为了介绍知识点,在实际项目中严禁使用这里使用的一些编码方式,对于由此产生的任何后果,本blog概不负责!!!</p>
</blockquote>
<p>感谢您的阅读</p>
<p><img src="http://oyol58zk0.bkt.clouddn.com/%E6%8D%95%E8%8E%B70.PNG" style="width:500px;margin:0px auto"></p>

            </div>

            <!-- Post Comments -->
            
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #7EC0EE;
            text-shadow: 0
        }
</style>
	
<div class="btn_click_load" id="disqus_bt"> 
    <button class="disqus_click_btn">点击查看评论</button>
</div>

<!--
<script type="text/javascript">
$('.btn_click_load').click(function() {
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'http-miccall-tech'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    document.getElementById('disqus_bt').style.display = "none";
});
</script>
-->
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2017/11/10/2017-11-10-如果你想开发一个应用-1-4/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://yoursite.com/2017/11/10/2017-11-10-如果你想开发一个应用-1-4/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/javascript">
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//http-miccall-tech.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>


        </div>
        <!-- Copyright 版权 start -->
                <div id="copyright">
            <ul>
                <li>&copy;Powered By <a href="https://hexo.io/zh-cn/" style="border-bottom: none;">hexo</a></li>
                <li>Design: <a href="http://miccall.tech " style="border-bottom: none;">miccall</a></li>
            </ul>
            
            	<span id="busuanzi_container_site_pv">2018总访问量<span id="busuanzi_value_site_pv"></span>次</span>
			
        </div>
    </div>
</body>



 	
</html>
