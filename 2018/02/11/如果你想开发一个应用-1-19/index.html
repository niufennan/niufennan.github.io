<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="/img/niu.png"/>
	 <link rel="shortcut icon" href="/img/niu.png">
	
			
    <title>
    双鱼座的牛
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="/css/mic_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
    
    	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>

			    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
	
</head>
    
		
<!-- Layouts -->



<!--  代码渲染  -->
<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<!-- 文章页 -->
<body class="is-loading">
    <!-- Wrapper 外包 s-->
    <div id="wrapper" class="fade-in">
        <!-- Intro 头部显示 s -->
        <!-- Intro 头部显示 e -->
        <!-- Header 头部logo start -->
        <header id="header">
    <a href="/" class="logo">双鱼座的牛</a>
</header>
        <!-- Nav 导航条 start -->
        <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow">主页</a>
	        </li>
			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1">分类</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/前端技术/">前端技术</a></li><li><a class="category-link" href="/categories/后端技术/">后端技术</a></li><li><a class="category-link" href="/categories/闲言碎语/">闲言碎语</a>
	                    </ul>
	        </li>
	        
	        <!-- archives  归档   --> 
	        
	        
		        <!-- Pages 自定义   -->
		        
		        <li>
		            <a href="/about/" title="简历">
		                简历
		            </a>
		        </li>
		        
		        <li>
		            <a href="/group/" title="团队">
		                团队
		            </a>
		        </li>
		        
		        <li>
		            <a href="/gallery/" title="图库">
		                图库
		            </a>
		        </li>
		        
		        <li>
		            <a href="/tag/" title="标签">
		                标签
		            </a>
		        </li>
		        


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
		            
		                <li><a href="https://github.com/miccall" class="icon fa-github"><span class="label">GitHub</span></a></li>
		            
		            
		            
		            
			</ul>
</nav>

        <div id="main" >
            <div class ="post_page_title_img" style="height: 25rem;background-image: url(http://upload-images.jianshu.io/upload_images/6290181-1f9ac481a19ac57a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;" >
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2 >如果你想开发一个应用(1-19)</h2></a>
            </div>
            <!-- Post -->
            <div class="typo" style="padding: 3rem;">
                <p>##手动定位##<br>在上一章节里，定位功能已经在cordova层面已经完成，接下来我们先忘记这个功能，想一下如果定位不成功怎么办？ 所以最终还是需要一个手动定位的功能。<br>这个功能很简单，其实就是一个联动下拉列表，按照一般的情况，只需要精确到市级即可，这个库网上有现成的，作为vue的数据模型即可：</p>
<pre><code>    const address = {
  &apos;北京&apos;: [&apos;北京&apos;],
  &apos;广东&apos;: [&apos;广州&apos;, &apos;深圳&apos;, &apos;珠海&apos;, &apos;汕头&apos;, &apos;韶关&apos;, &apos;佛山&apos;, &apos;江门&apos;, &apos;湛江&apos;, &apos;茂名&apos;, &apos;肇庆&apos;, &apos;惠州&apos;, &apos;梅州&apos;, &apos;汕尾&apos;, &apos;河源&apos;, &apos;阳江&apos;, &apos;清远&apos;, &apos;东莞&apos;, &apos;中山&apos;, &apos;潮州&apos;, &apos;揭阳&apos;, &apos;云浮&apos;],
  &apos;上海&apos;: [&apos;上海&apos;],
  &apos;天津&apos;: [&apos;天津&apos;],
  &apos;重庆&apos;: [&apos;重庆&apos;],
  &apos;辽宁&apos;: [&apos;沈阳&apos;, &apos;大连&apos;, &apos;鞍山&apos;, &apos;抚顺&apos;, &apos;本溪&apos;, &apos;丹东&apos;, &apos;锦州&apos;, &apos;营口&apos;, &apos;阜新&apos;, &apos;辽阳&apos;, &apos;盘锦&apos;, &apos;铁岭&apos;, &apos;朝阳&apos;, &apos;葫芦岛&apos;],
  &apos;江苏&apos;: [&apos;南京&apos;, &apos;苏州&apos;, &apos;无锡&apos;, &apos;常州&apos;, &apos;镇江&apos;, &apos;南通&apos;, &apos;泰州&apos;, &apos;扬州&apos;, &apos;盐城&apos;, &apos;连云港&apos;, &apos;徐州&apos;, &apos;淮安&apos;, &apos;宿迁&apos;],
  &apos;湖北&apos;: [&apos;武汉&apos;, &apos;黄石&apos;, &apos;十堰&apos;, &apos;荆州&apos;, &apos;宜昌&apos;, &apos;襄樊&apos;, &apos;鄂州&apos;, &apos;荆门&apos;, &apos;孝感&apos;, &apos;黄冈&apos;, &apos;咸宁&apos;, &apos;随州&apos;, &apos;恩施土家族苗族自治州&apos;, &apos;仙桃&apos;, &apos;天门&apos;, &apos;潜江&apos;, &apos;神农架林区&apos;],
  &apos;四川&apos;: [&apos;成都&apos;, &apos;自贡&apos;, &apos;攀枝花&apos;, &apos;泸州&apos;, &apos;德阳&apos;, &apos;绵阳&apos;, &apos;广元&apos;, &apos;遂宁&apos;, &apos;内江&apos;, &apos;乐山&apos;, &apos;南充&apos;, &apos;眉山&apos;, &apos;宜宾&apos;, &apos;广安&apos;, &apos;达州&apos;, &apos;雅安&apos;, &apos;巴中&apos;, &apos;资阳&apos;, &apos;阿坝藏族羌族自治州&apos;, &apos;甘孜藏族自治州&apos;, &apos;凉山彝族自治州&apos;],
  &apos;陕西&apos;: [&apos;西安&apos;, &apos;铜川&apos;, &apos;宝鸡&apos;, &apos;咸阳&apos;, &apos;渭南&apos;, &apos;延安&apos;, &apos;汉中&apos;, &apos;榆林&apos;, &apos;安康&apos;, &apos;商洛&apos;],
  &apos;河北&apos;: [&apos;石家庄&apos;, &apos;唐山&apos;, &apos;秦皇岛&apos;, &apos;邯郸&apos;, &apos;邢台&apos;, &apos;保定&apos;, &apos;张家口&apos;, &apos;承德&apos;, &apos;沧州&apos;, &apos;廊坊&apos;, &apos;衡水&apos;],
  &apos;山西&apos;: [&apos;太原&apos;, &apos;大同&apos;, &apos;阳泉&apos;, &apos;长治&apos;, &apos;晋城&apos;, &apos;朔州&apos;, &apos;晋中&apos;, &apos;运城&apos;, &apos;忻州&apos;, &apos;临汾&apos;, &apos;吕梁&apos;],
  &apos;河南&apos;: [&apos;郑州&apos;, &apos;开封&apos;, &apos;洛阳&apos;, &apos;平顶山&apos;, &apos;安阳&apos;, &apos;鹤壁&apos;, &apos;新乡&apos;, &apos;焦作&apos;, &apos;濮阳&apos;, &apos;许昌&apos;, &apos;漯河&apos;, &apos;三门峡&apos;, &apos;南阳&apos;, &apos;商丘&apos;, &apos;信阳&apos;, &apos;周口&apos;, &apos;驻马店&apos;],
  &apos;吉林&apos;: [&apos;长春&apos;, &apos;吉林&apos;, &apos;四平&apos;, &apos;辽源&apos;, &apos;通化&apos;, &apos;白山&apos;, &apos;松原&apos;, &apos;白城&apos;, &apos;延边朝鲜族自治州&apos;],
  &apos;黑龙江&apos;: [&apos;哈尔滨&apos;, &apos;齐齐哈尔&apos;, &apos;鹤岗&apos;, &apos;双鸭山&apos;, &apos;鸡西&apos;, &apos;大庆&apos;, &apos;伊春&apos;, &apos;牡丹江&apos;, &apos;佳木斯&apos;, &apos;七台河&apos;, &apos;黑河&apos;, &apos;绥化&apos;, &apos;大兴安岭地区&apos;],
  &apos;内蒙古&apos;: [&apos;呼和浩特&apos;, &apos;包头&apos;, &apos;乌海&apos;, &apos;赤峰&apos;, &apos;通辽&apos;, &apos;鄂尔多斯&apos;, &apos;呼伦贝尔&apos;, &apos;巴彦淖尔&apos;, &apos;乌兰察布&apos;, &apos;锡林郭勒盟&apos;, &apos;兴安盟&apos;, &apos;阿拉善盟&apos;],
  &apos;山东&apos;: [&apos;济南&apos;, &apos;青岛&apos;, &apos;淄博&apos;, &apos;枣庄&apos;, &apos;东营&apos;, &apos;烟台&apos;, &apos;潍坊&apos;, &apos;济宁&apos;, &apos;泰安&apos;, &apos;威海&apos;, &apos;日照&apos;, &apos;莱芜&apos;, &apos;临沂&apos;, &apos;德州&apos;, &apos;聊城&apos;, &apos;滨州&apos;, &apos;菏泽&apos;],
  &apos;安徽&apos;: [&apos;合肥&apos;, &apos;芜湖&apos;, &apos;蚌埠&apos;, &apos;淮南&apos;, &apos;马鞍山&apos;, &apos;淮北&apos;, &apos;铜陵&apos;, &apos;安庆&apos;, &apos;黄山&apos;, &apos;滁州&apos;, &apos;阜阳&apos;, &apos;宿州&apos;, &apos;巢湖&apos;, &apos;六安&apos;, &apos;亳州&apos;, &apos;池州&apos;, &apos;宣城&apos;],
  &apos;浙江&apos;: [&apos;杭州&apos;, &apos;宁波&apos;, &apos;温州&apos;, &apos;嘉兴&apos;, &apos;湖州&apos;, &apos;绍兴&apos;, &apos;金华&apos;, &apos;衢州&apos;, &apos;舟山&apos;, &apos;台州&apos;, &apos;丽水&apos;],
  &apos;福建&apos;: [&apos;福州&apos;, &apos;厦门&apos;, &apos;莆田&apos;, &apos;三明&apos;, &apos;泉州&apos;, &apos;漳州&apos;, &apos;南平&apos;, &apos;龙岩&apos;, &apos;宁德&apos;],
  &apos;湖南&apos;: [&apos;长沙&apos;, &apos;株洲&apos;, &apos;湘潭&apos;, &apos;衡阳&apos;, &apos;邵阳&apos;, &apos;岳阳&apos;, &apos;常德&apos;, &apos;张家界&apos;, &apos;益阳&apos;, &apos;郴州&apos;, &apos;永州&apos;, &apos;怀化&apos;, &apos;娄底&apos;, &apos;湘西土家族苗族自治州&apos;],
  &apos;广西&apos;: [&apos;南宁&apos;, &apos;柳州&apos;, &apos;桂林&apos;, &apos;梧州&apos;, &apos;北海&apos;, &apos;防城港&apos;, &apos;钦州&apos;, &apos;贵港&apos;, &apos;玉林&apos;, &apos;百色&apos;, &apos;贺州&apos;, &apos;河池&apos;, &apos;来宾&apos;, &apos;崇左&apos;],
  &apos;江西&apos;: [&apos;南昌&apos;, &apos;景德镇&apos;, &apos;萍乡&apos;, &apos;九江&apos;, &apos;新余&apos;, &apos;鹰潭&apos;, &apos;赣州&apos;, &apos;吉安&apos;, &apos;宜春&apos;, &apos;抚州&apos;, &apos;上饶&apos;],
  &apos;贵州&apos;: [&apos;贵阳&apos;, &apos;六盘水&apos;, &apos;遵义&apos;, &apos;安顺&apos;, &apos;铜仁地区&apos;, &apos;毕节地区&apos;, &apos;黔西南布依族苗族自治州&apos;, &apos;黔东南苗族侗族自治州&apos;, &apos;黔南布依族苗族自治州&apos;],
  &apos;云南&apos;: [&apos;昆明&apos;, &apos;曲靖&apos;, &apos;玉溪&apos;, &apos;保山&apos;, &apos;昭通&apos;, &apos;丽江&apos;, &apos;普洱&apos;, &apos;临沧&apos;, &apos;德宏傣族景颇族自治州&apos;, &apos;怒江傈僳族自治州&apos;, &apos;迪庆藏族自治州&apos;, &apos;大理白族自治州&apos;, &apos;楚雄彝族自治州&apos;, &apos;红河哈尼族彝族自治州&apos;, &apos;文山壮族苗族自治州&apos;, &apos;西双版纳傣族自治州&apos;],
  &apos;西藏&apos;: [&apos;拉萨&apos;, &apos;那曲地区&apos;, &apos;昌都地区&apos;, &apos;林芝地区&apos;, &apos;山南地区&apos;, &apos;日喀则地区&apos;, &apos;阿里地区&apos;],
  &apos;海南&apos;: [&apos;海口&apos;, &apos;三亚&apos;, &apos;五指山&apos;, &apos;琼海&apos;, &apos;儋州&apos;, &apos;文昌&apos;, &apos;万宁&apos;, &apos;东方&apos;, &apos;澄迈县&apos;, &apos;定安县&apos;, &apos;屯昌县&apos;, &apos;临高县&apos;, &apos;白沙黎族自治县&apos;, &apos;昌江黎族自治县&apos;, &apos;乐东黎族自治县&apos;, &apos;陵水黎族自治县&apos;, &apos;保亭黎族苗族自治县&apos;, &apos;琼中黎族苗族自治县&apos;],
  &apos;甘肃&apos;: [&apos;兰州&apos;, &apos;嘉峪关&apos;, &apos;金昌&apos;, &apos;白银&apos;, &apos;天水&apos;, &apos;武威&apos;, &apos;酒泉&apos;, &apos;张掖&apos;, &apos;庆阳&apos;, &apos;平凉&apos;, &apos;定西&apos;, &apos;陇南&apos;, &apos;临夏回族自治州&apos;, &apos;甘南藏族自治州&apos;],
  &apos;宁夏&apos;: [&apos;银川&apos;, &apos;石嘴山&apos;, &apos;吴忠&apos;, &apos;固原&apos;, &apos;中卫&apos;],
  &apos;青海&apos;: [&apos;西宁&apos;, &apos;海东地区&apos;, &apos;海北藏族自治州&apos;, &apos;海南藏族自治州&apos;, &apos;黄南藏族自治州&apos;, &apos;果洛藏族自治州&apos;, &apos;玉树藏族自治州&apos;, &apos;海西蒙古族藏族自治州&apos;],
  &apos;新疆&apos;: [&apos;乌鲁木齐&apos;, &apos;克拉玛依&apos;, &apos;吐鲁番地区&apos;, &apos;哈密地区&apos;, &apos;和田地区&apos;, &apos;阿克苏地区&apos;, &apos;喀什地区&apos;, &apos;克孜勒苏柯尔克孜自治州&apos;, &apos;巴音郭楞蒙古自治州&apos;, &apos;昌吉回族自治州&apos;, &apos;博尔塔拉蒙古自治州&apos;, &apos;石河子&apos;, &apos;阿拉尔&apos;, &apos;图木舒克&apos;, &apos;五家渠&apos;, &apos;伊犁哈萨克自治州&apos;],
  &apos;香港&apos;: [&apos;香港&apos;],
  &apos;澳门&apos;: [&apos;澳门&apos;],
  &apos;台湾&apos;: [&apos;台北市&apos;, &apos;高雄市&apos;, &apos;台北县&apos;, &apos;桃园县&apos;, &apos;新竹县&apos;, &apos;苗栗县&apos;, &apos;台中县&apos;, &apos;彰化县&apos;, &apos;南投县&apos;, &apos;云林县&apos;, &apos;嘉义县&apos;, &apos;台南县&apos;, &apos;高雄县&apos;, &apos;屏东县&apos;, &apos;宜兰县&apos;, &apos;花莲县&apos;, &apos;台东县&apos;, &apos;澎湖县&apos;, &apos;基隆市&apos;, &apos;新竹市&apos;, &apos;台中市&apos;, &apos;嘉义市&apos;, &apos;台南市&apos;]
}
</code></pre><p>然后增加一个图标，如果手机定位失败显示：</p>
<pre><code>&lt;mu-icon value=&quot;room&quot; v-on:click=&quot;chooseAddress&quot; v-if=&quot;locationBtn&quot;/&gt;
</code></pre><p>其中click事件点击后弹出地点选择对话框，而v-if是vue的条件选择语句，即只有locationBtn为true的时候，才会显示这个图标。</p>
<p>因为locationBtn是跨组件的，所以暂时把他定义在store中：</p>
<pre><code>locationBtn:true
</code></pre><p>还需要定义一个选择定位地点的弹出框，同样适用museui的dialog，然后对样式进行稍微的改动：</p>
<pre><code>&lt;mu-dialog :open=&quot;adddialog&quot; title=&quot;请选择&quot; &gt;
    &lt;mu-picker :slots=&quot;addressSlots&quot; :visible-item-count=&quot;5&quot; @change=&quot;addressChange&quot; :values=&quot;address&quot;/&gt;
    &lt;mu-flat-button slot=&quot;actions&quot; primary @click=&quot;addressClose&quot; label=&quot;确定&quot;/&gt;
&lt;/mu-dialog&gt;
</code></pre><p>很简单，只有一个picker和一个关闭按钮，这样就很清晰了，chooseAddress方法只有一行：</p>
<pre><code>chooseAddress:function(event){
    this.adddialog=true;
},
</code></pre><p>这时候弹框会显示，而addressChange的方法体是一个数组的联动效果，联动之后同时进行赋值：</p>
<pre><code>addressChange:function(value, index) {
    switch (index) {
    case 0:
    this.addressProvince = value
        const arr = address[value]
        this.addressSlots[1].values = arr
        this.addressCity = arr[0]
        break
    case 1:
        this.addressCity = value
        break
    }
    this.address = [this.addressProvince, this.addressCity]
},
</code></pre><p>很明显，定义几个数据项还是必须的：</p>
<pre><code>addressSlots: [
{
    width: &apos;100%&apos;,
    textAlign: &apos;right&apos;,
    values: Object.keys(address)
}, {
    width: &apos;100%&apos;,
    textAlign: &apos;left&apos;,
    values: [&apos;北京&apos;]
}
],//列表
address: [&apos;北京&apos;, &apos;北京&apos;],
addressProvince: &apos;北京&apos;,
addressCity: &apos;北京&apos;,
</code></pre><p>最终效果如下：</p>
<p><img src="http://oyol58zk0.bkt.clouddn.com/jtodos/19/1.PNG" alt=""></p>
<p>当选择后，会在页面中显示已经选择的地点，比如随便选择一个后的结果：</p>
<p><img src="http://oyol58zk0.bkt.clouddn.com/jtodos/19/2.PNG" alt=""></p>
<p>现在手动定位和自动定位均已完成，逻辑是只有自动定位失败的时候，手动定位图标才会出现。</p>
<p>##手动修改天气##</p>
<p>接下来你可能已经看到，第二幅效果图比第一份多出来一个太阳的图标，这是做什么的呢？这个是一个天气设置 的功能，和定位一样，当自动获取天气失败的时候，会出现这个图标，用来手动设置天气，这个图标的相关代码如下：</p>
<pre><code>&lt;mu-icon value=&quot;wb_sunny&quot; v-on:click=&quot;chooseWeather&quot; v-if=&quot;weatherBtn&quot;/&gt;
</code></pre><p>weatherBtn同样在store中设置：</p>
<pre><code>weatherBtn:false
</code></pre><p>而chooseWeather方法也和定位基本一样，只有一行逻辑代码代码，但多出一行调用设置默认天气语句的方法：</p>
<pre><code>chooseWeather:function(event){
    this.setWeatherText();
    this.weatherdialog=true
}
</code></pre><p>在介绍setWeatherText之前，先看一下本页面定义的几个属性的含义和值：</p>
<pre><code>low:9,        //最低气温 小于最高气温
lowMin:-10,   //最低气温最小值
lowMax:34,    //最低气温最大值 
high:10,      //最高气温 大于最低气温
highMin:-9,   //最高气温最小值
highMax:35,   //最高气温最大值
weatherIcon0:&quot;weatherIconActive&quot;,  //天气图标0 选中状态
weatherIcon1:&quot;weatherIcon&quot;,        //天气图标1
weatherIcon2:&quot;weatherIcon&quot;,           //天气图标2
weatherIcon3:&quot;weatherIcon&quot;,           //天气图标3    
weatherIcon4:&quot;weatherIcon&quot;,           //天气图标4    
weatherIcon5:&quot;weatherIcon&quot;,           //天气图标5    
weatherText:&quot;晴 10度/9度&quot;,           //窗体中显示文言
weatherIconText:[&quot;晴&quot;,&quot;多云&quot;,&quot;阴&quot;,&quot;雨&quot;,&quot;雪&quot;,&quot;霾&quot;],//不同图标代表的文字
weatherIconIndex:0,                //选中的天气图标
weatherContent:&quot;&quot;,                 //实际天气值
</code></pre><p>定义的变量好多呀，但其实除去几个最大最小值和图标样式之外，和定位也就没什么区别了。接下看一下弹出窗体的代码：</p>
<pre><code>&lt;mu-dialog :open=&quot;weatherdialog&quot; title=&quot;请选择&quot;&gt;
    &lt;div style=&quot;text-align:center&quot;&gt;
        &lt;img src=&quot;../assets/3d_60/0.png&quot; :class=&quot;weatherIcon0&quot; @click=&quot;chooseWeatherIcon(0)&quot;&gt;
        &lt;img src=&quot;../assets/3d_60/7.png&quot; :class=&quot;weatherIcon1&quot; @click=&quot;chooseWeatherIcon(1)&quot;&gt;
        &lt;img src=&quot;../assets/3d_60/9.png&quot; :class=&quot;weatherIcon2&quot; @click=&quot;chooseWeatherIcon(2)&quot;&gt;
        &lt;img src=&quot;../assets/3d_60/13.png&quot; :class=&quot;weatherIcon3&quot; @click=&quot;chooseWeatherIcon(3)&quot;&gt;
        &lt;img src=&quot;../assets/3d_60/24.png&quot; :class=&quot;weatherIcon4&quot; @click=&quot;chooseWeatherIcon(4)&quot;&gt;
        &lt;img src=&quot;../assets/3d_60/30.png&quot; :class=&quot;weatherIcon5&quot; @click=&quot;chooseWeatherIcon(5)&quot;&gt;
    &lt;/div&gt;
    &lt;div&gt;
            &lt;div class=&quot;weatherNumber&quot;&gt;
                   {{highMin}}
              &lt;/div&gt;
              &lt;div class=&quot;weatherSlider&quot;&gt;
                   &lt;mu-slider v-model=&quot;high&quot; :max=&quot;highMax&quot; :min=&quot;highMin&quot; :step=&quot;1&quot; @change=&quot;highSliderChange&quot;/&gt;
               &lt;/div&gt;
              &lt;div class=&quot;weatherNumber&quot;&gt;
               {{highMax}}
              &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;clr&quot;&gt;&lt;/div&gt;
    &lt;div&gt;
            &lt;div class=&quot;weatherNumber&quot;&gt;
                   {{lowMin}}
              &lt;/div&gt;
              &lt;div class=&quot;weatherSlider&quot;&gt;
                   &lt;mu-slider v-model=&quot;low&quot; :max=&quot;lowMax&quot; :min=&quot;lowMin&quot; :step=&quot;1&quot; @change=&quot;lowSliderChange&quot;/&gt;
               &lt;/div&gt;
              &lt;div class=&quot;weatherNumber&quot;&gt;
                   {{lowMax}}
              &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;clr&quot;&gt;&lt;/div&gt;
    &lt;div style=&quot;text-align:center&quot;&gt;
        {{weatherText}}
    &lt;/div&gt;
    &lt;mu-flat-button slot=&quot;actions&quot; primary @click=&quot;weatherClose&quot; label=&quot;确定&quot;/&gt;
&lt;/mu-dialog&gt;
</code></pre><p>看着有点长？其实拆分后没啥，一个图标按钮组，两个滚动条，一个显示文言的字符串，还有一个按钮，接下来看看他长得样子吧：</p>
<p><img src="http://oyol58zk0.bkt.clouddn.com/jtodos/19/3.PNG" alt=""></p>
<p>选择图标chooseWeatherIcon方法的代码如下：</p>
<pre><code>chooseWeatherIcon:function(index){
    this.weatherIconIndex=inidex;
    for(var i=0;i&lt;6;i++){
        this[&quot;weatherIcon&quot;+i]=&quot;weatherIcon&quot;;
    }
    this[&quot;weatherIcon&quot;+this.weatherIconIndex]=&quot;weatherIconActive&quot;;
    this.setWeatherText();
},
</code></pre><p>逻辑也比较简单，首先将几个图标的css全部复位，然后在给选中的赋予active状态的css，之后同样调用了setWeatherText()方法</p>
<p>滚动条的方法几乎不用说，就是判断一下high和low两值的关系，确保最高气温永远大于最低气温即可(只列出最高气温的滚动条时间方法)：</p>
<pre><code>highSliderChange:function(event){
    //最低气温不能高过此值
    if(this.low&gt;=this.high){
        this.low=this.high-1;
    }
    this.setWeatherText();
},
</code></pre><p>这时候，在看setWeatherText方法的代码就很简单了，其实就是一个字符串拼接的过程：</p>
<pre><code>setWeatherText:function(){
    this.weatherText= this.weatherIconText[(this.weatherIconIndex)]+&quot; &quot;+this.high+&quot;度/&quot;+this.low+&quot;度&quot;;
},
</code></pre><p>最后，还是随便选择一个天气状况，然后看一下效果：</p>
<p><img src="http://oyol58zk0.bkt.clouddn.com/jtodos/19/4.PNG" alt=""></p>
<p>点击确定后：</p>
<p><img src="http://oyol58zk0.bkt.clouddn.com/jtodos/19/5.PNG" alt=""></p>
<p>达成了我们所需的效果。</p>
<p>##此刻心情##</p>
<p>最后，还有一个在这个组件内不显示，但列表中需要显示的功能，那就是心情，这个就很简单了，实际上只要选择好了图标，就是把天气的滚动条删除就好：</p>
<pre><code>&lt;mu-dialog :open=&quot;mooddialog&quot;&gt;
    &lt;div style=&quot;text-align:center&quot;&gt;
        &lt;div style=&quot;text-align:center;float:left&quot;&gt;
            &lt;mu-icon value=&quot;sentiment_very_satisfied&quot; :size=&quot;40&quot; v-on:click=&quot;moodClose(0)&quot;/&gt;
            &lt;div style=&quot;font-size: 11px;&quot;&gt;惊喜&lt;/div&gt;
        &lt;/div&gt;
        &lt;div style=&quot;text-align:center;float:left&quot;&gt;
            &lt;mu-icon value=&quot;sentiment_satisfied&quot; :size=&quot;40&quot; v-on:click=&quot;moodClose(1)&quot;/&gt;
            &lt;div style=&quot;font-size: 11px;&quot;&gt;开心&lt;/div&gt;
        &lt;/div&gt;
        &lt;div style=&quot;text-align:center;float:left&quot;&gt;
            &lt;mu-icon value=&quot;sentiment_neutral&quot; :size=&quot;40&quot; v-on:click=&quot;moodClose(2)&quot;/&gt;
            &lt;div style=&quot;font-size: 11px;&quot;&gt;一般&lt;/div&gt;
        &lt;/div&gt;
        &lt;div style=&quot;text-align:center;float:left&quot;&gt;
            &lt;mu-icon value=&quot;sentiment_dissatisfied&quot; :size=&quot;40&quot; v-on:click=&quot;moodClose(3)&quot;/&gt;
            &lt;div style=&quot;font-size: 11px;&quot;&gt;不好&lt;/div&gt;
        &lt;/div&gt;
        &lt;div style=&quot;text-align:center;float:left&quot;&gt;
            &lt;mu-icon value=&quot;sentiment_very_dissatisfied&quot; :size=&quot;40&quot; v-on:click=&quot;moodClose(4)&quot;/&gt;
            &lt;div style=&quot;font-size: 11px;&quot;&gt;伤心&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/mu-dialog&gt;
</code></pre><p>因为这个面板只提供一个值，所以也不需要独立的关闭按钮，选择之后关闭即可，最终效果如下：</p>
<p><img src="http://oyol58zk0.bkt.clouddn.com/jtodos/19/6.PNG" alt=""></p>
<p>至此，这个新建页面所需的全部附属功能已经完成，等等，如果你还记得的画，开始说好了天气要自动匹配的，只有匹配失败了，才会让大家手动操作，那么自动的该如何进行呢？鉴于篇幅已经够长，所以由下一章完成.</p>
<p>谢谢观看</p>

            </div>

            <!-- Post Comments -->
            
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #7EC0EE;
            text-shadow: 0
        }
</style>
	
<div class="btn_click_load" id="disqus_bt"> 
    <button class="disqus_click_btn">点击查看评论</button>
</div>

<!--
<script type="text/javascript">
$('.btn_click_load').click(function() {
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'http-miccall-tech'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    document.getElementById('disqus_bt').style.display = "none";
});
</script>
-->
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2018/02/11/如果你想开发一个应用-1-19/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://yoursite.com/2018/02/11/如果你想开发一个应用-1-19/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/javascript">
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//http-miccall-tech.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>


        </div>
        <!-- Copyright 版权 start -->
                <div id="copyright">
            <ul>
                <li>&copy;Powered By <a href="https://hexo.io/zh-cn/" style="border-bottom: none;">hexo</a></li>
                <li>Design: <a href="http://miccall.tech " style="border-bottom: none;">miccall</a></li>
            </ul>
            
            	<span id="busuanzi_container_site_pv">2018总访问量<span id="busuanzi_value_site_pv"></span>次</span>
			
        </div>
    </div>
</body>



 	
</html>
